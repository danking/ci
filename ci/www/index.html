<html>
  <head>
    <script>
      function make_table() {
        table = document.getElementById("foo")
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement/insertRow
        for (i = 0; i < this.response.prs.length; i = i + 1) {
          pr = this.response.prs[i]

          newRow = table.insertRow()

          newCell = newRow.insertCell()
          newText = document.createTextNode(pr.number)
          newCell.appendChild(newText)

          newCell = newRow.insertCell()
          newText = document.createTextNode(pr.review)
          newCell.appendChild(newText)

          newCell = newRow.insertCell()
          newText = document.createTextNode(pr.build.type)
          newCell.appendChild(newText)

          newCell = newRow.insertCell()
          newText = document.createTextNode(pr.source.ref.name)
          newCell.appendChild(newText)

          newCell = newRow.insertCell()
          newText = document.createTextNode(pr.target.ref.repo.name)
          newCell.appendChild(newText)

          newCell = newRow.insertCell()
          newText = document.createTextNode(pr.title)
          newCell.appendChild(newText)

          

        }
      }

      var xhr = new XMLHttpRequest();
      xhr.responseType = 'json'
      xhr.addEventListener("load", make_table);
      xhr.addEventListener("error", function () { alert("xml http request failed" + xhr.response); } );
      xhr.open("GET", "http://ci2.hail.is/status");
      xhr.send();
    </script>
    <style>
      table, td {
        border : 1px solid #000;
      }
    </style>
  </head>
  <body>
    <table id="foo">
      <h1> Table for info </h1>
    </table>
  </body>
</html>
